(window.webpackJsonp=window.webpackJsonp||[]).push([["8146"],{"/ykl":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("T4Uw"),i=n.n(r),o="china-guest-loop";function s(){return i.a.get(o)}},"28/g":function(e,h,m){"use strict";(function(i){m.d(h,"a",function(){return s}),m.d(h,"b",function(){return a});var c,n=m("/+q4"),e=m("8dvS"),u=m.n(e),d=m("nL48"),t=m("T4Uw"),l=m.n(t),f=m("Q/Zp"),p=m("/ykl"),o=m("lVss");function r(){return(void 0===(e=window.navigator)?Promise.resolve(!1):"serviceWorker"in e&&e.serviceWorker.getRegistration?e.serviceWorker.getRegistration("/").then(function(e){return!(!e||!e.active)}):Promise.resolve(!1)).then(function(e){if(!e)return!1;var t=i.window&&Object(o.b)();if(!t||!t.getEntriesByType)return!1;var n=t.getEntriesByType("navigation");if(!n||0===n.length)return!1;var r=n[0].serverTiming;return!(!r||0===r.length)&&0<r.filter(function(e){return"serviceWorker"===e.name}).length}).catch(function(){return!1});var e}function s(){return c}function a(t){return r().then(function(e){return t?Promise.resolve(n.a.ClientRouteRequest):e?Promise.resolve(n.a.ServiceWorkerFulfilledRequest):c===d.a.Hit?Promise.resolve(n.a.CDNCached):Promise.resolve(n.a.DirectRequest)})}(function(){if(!Object(p.a)()){for(var e=u()("cache_state"),t=document.location.pathname,n=t.lastIndexOf("/");-1!==n;){var r=t.slice(0,n);u()("cache_state",-1,{expires:-1,domain:Object(f.a)(),path:"".concat(r,"/")}),n=r.lastIndexOf("/")}if("0"===e)c=d.a.Miss;else if("1"===e)c=d.a.Hit;else{var i=Date.now(),o=(l.a.get("layout-init")||{}).tracking_context,s=void 0===o?null:o;if(s&&s.action&&s.action.includes("app_shell"))return;var a=l.a.get("pageGeneratedAt")||i;c=6e5<i-a?d.a.Hit:d.a.Unknown}}})()}).call(this,m("cNzE"))},CWGs:function(e,t,n){"use strict";var r=n("j/eu"),o=n.n(r),s=n("Y195"),a=n("acAX"),c=n("lVss"),u=n("txj8");t.a=new function(){var i=this;this.performanceRecorders=[],this.currentPathname="",this.currentSearch="",this.updateCurrentRecorderWithHOCProps=function(e){var t=i.performanceRecorders[i.performanceRecorders.length-1];t&&(t.universalPageName=e.universalPageName,t.impressionUuid=e.impressionUuid,t.isDirectRequest||t.setTTFCP(e.timestampOfFCP))},this.handleNewHistory=function(e){e.listen(i.onHistoryChange)},this.setIgnorePathnameUpdate=function(e){i.ignorePathnameUpdate=e},this.clearIgnorePathnameUpdate=function(){i.ignorePathnameUpdate=void 0},this.setIncludeHistoryUpdate=function(e){i.includeHistoryUpdate=e},this.clearIncludeHistoryUpdate=function(){i.includeHistoryUpdate=void 0},this.startNextPageTimer=function(){i.nextPageCreatedAt=Object(c.b)().now()},this.createNewRecorder=function(e){var t=e.isDirectRequest,n=i.performanceRecorders[i.performanceRecorders.length-1];n&&n.retire(),i.performanceRecorders.push(new u.a({isDirectRequest:t,pageCreatedAt:i.nextPageCreatedAt})),i.nextPageCreatedAt=void 0},this.onHistoryChange=function(e,t){var n=e.pathname,r=e.search;i.isPageTransition({action:t,prevPathname:i.currentPathname,prevSearch:i.currentSearch,nextPathname:n,nextSearch:r})&&i.createNewRecorder({isDirectRequest:!1}),i.currentPathname=n,i.currentSearch=r},this.isPageTransition=function(e){if("function"==typeof i.includeHistoryUpdate)return i.includeHistoryUpdate(e);var t=e.action,n=e.prevPathname,r=e.nextPathname;return!(!n||!r)&&(n!==r&&(("function"!=typeof i.ignorePathnameUpdate||!i.ignorePathnameUpdate(n,r))&&["POP","PUSH","REPLACE"].includes(t)))},this.flushAllEvents=function(){Object(a.d)()||(i.performanceRecorders.forEach(function(e){e.skipLogging||(e.retired||e.retire(),o.a.queueJitneyEvent({schema:s.a,event_data:{assets:e.assets,page_request_method:e.pageRequestMethod,universal_page_name:e.universalPageName,impression_uuid:e.impressionUuid,ttfcp:e.metrics.ttfcp,ttfmp:e.metrics.ttfmp,fid:e.metrics.fid,tbt:e.metrics.totalBlockingTime,domain_and_path:"".concat(window.location.host).concat(window.location.pathname)}}))}),i.performanceRecorders=[],o.a.getLogger().flushEventQueue({useSendBeacon:!0}))},this.setPageCloseHandlers=function(){window.addEventListener("beforeunload",i.flushAllEvents,!0),window.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&i.flushAllEvents()})},this.currentPathname=window.location.pathname,this.currentSearch=window.location.search,this.createNewRecorder({isDirectRequest:!0}),this.setPageCloseHandlers()}},T0ZN:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("lx5E");function i(){switch(0,document.visibilityState){case"visible":return r.a.Visible;case"hidden":return r.a.Hidden;case"prerender":return r.a.Prerender;default:return r.a.Unknown}}},lVss:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d});var r=n("IzZ0");function o(){var t={now:function(){return Date.now()},mark:function(){},measure:function(){},getEntriesByName:function(){return[]},getEntriesByType:function(){return[]},clearMarks:function(){},clearMeasures:function(){},timing:{connectEnd:0,connectStart:0,domComplete:0,domContentLoadedEventEnd:0,domContentLoadedEventStart:0,domInteractive:0,domLoading:0,domainLookupEnd:0,domainLookupStart:0,fetchStart:0,loadEventEnd:0,loadEventStart:0,navigationStart:0,redirectEnd:0,redirectStart:0,requestStart:0,responseEnd:0,responseStart:0,secureConnectionStart:0,unloadEventEnd:0,unloadEventStart:0,toJSON:function(){}},isMocked:!0},n=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||void 0;if(void 0===n)return t;var e=n.now||n.mozNow||n.msNow||n.webkitNow;return e&&(n.now||(n.now=e)),Object.keys(t).forEach(function(e){e in n||"function"!=typeof t[e]||(n[e]=t[e])}),n}var i={0:r.a.navigate,1:r.a.reload,2:r.a.back_forward},s=o();function a(){var e,t=o();if(t.getEntriesByType){var n=t.getEntriesByType("navigation")[0];if(n)return r.a[n.type]}return"number"==typeof(null==t||null===(e=t.navigation)||void 0===e?void 0:e.type)&&i[t.navigation.type]||r.a.unknown}function c(){var e=o();return e.timing&&e.timing.navigationStart?e.timing.navigationStart+e.now():Date.now()}function u(e){if(window&&window.performance){if(window.performance.timeOrigin)return Math.round(e+window.performance.timeOrigin);if(window.performance.timing&&window.performance.timing.navigationStart)return Math.round(e+window.performance.timing.navigationStart)}return Math.round(e)}function d(e,t,n){var r=o();try{r.measure(e,t,n)}catch(e){return null}r.clearMarks(t),r.clearMarks(n),setTimeout(function(){r.clearMeasures(e)});var i=r.getEntriesByName(e)[0];return i?i.duration:null}},txj8:function(e,t,n){"use strict";n.d(t,"a",function(){return r});function i(e){return(e?"".concat(Math.round(e).toLocaleString()," ms"):"...").padStart(9," ")}var s=n("lx5E"),a=n("/+q4"),c=n("lVss"),u=n("6Tiy"),d=n("T0ZN"),l=n("28/g"),f=n("z7+s");var r=function(e){var o=this,t=e.isDirectRequest,n=e.pageCreatedAt;this.initialVisibilityState=Object(d.a)(),this.performance=Object(c.b)(),this.pageRequestMethod=a.a.DirectRequest,this.metrics={longTasks:[],resources:[]},this.retired=!1,this.skipLogging=!1,this.showLogs="string"==typeof Object(u.a)().pps,this.retire=function(){o.retired||(o.retired=!0,o.cleanUpLongTasks(),o.cleanUpResources(),o.hasNecessaryPolyfills()&&window._fmpPolyfill.stopSearchingForFMP())},this.setTTFCP=function(e){o.retired||o.metrics.ttfcp||(o.metrics.ttfcp=e-o.createdAt,o.showLogs&&(o.consoleLogMetrics(),performance.mark("ttfcp-end"),performance.measure("TTFCP",o.markStartName,"ttfcp-end")))},this.listenForFCP=function(){window._fcpPolyfill.onFCP(o.setTTFCP)},this.listenForFMP=function(){o.retired||(o.isDirectRequest||(window._fmpPolyfill.refreshHeroElement(),window._fmpPolyfill.checkForFMP()),window._fmpPolyfill.onFMP(o.setTTFMP))},this.setTTFMP=function(e){o.retired||(o.metrics.ttfmp=e-o.createdAt,o.showLogs&&(o.consoleLogMetrics(),performance.mark("ttfmp-end"),performance.measure("TTFMP",o.markStartName,"ttfmp-end")))},this.listenForFID=function(){window.perfMetrics.clearFirstInputDelay(),window.perfMetrics.onFirstInputDelay(o.setFID)},this.setFID=function(e){o.retired||(o.metrics.fid=e,o.showLogs&&o.consoleLogMetrics())},this.listenForLongTasks=function(){void 0!==window.PerformanceLongTaskTiming&&"undefined"!=typeof PerformanceObserver&&(o.longTaskObserver=new PerformanceObserver(function(e){var t;(t=o.metrics.longTasks).push.apply(t,babelHelpers.toConsumableArray(e.getEntries()))}),o.longTaskObserver.observe({entryTypes:["longtask"]}))},this.listenForResources=function(){"undefined"!=typeof PerformanceObserver&&(o.resourcesObserver=new PerformanceObserver(function(e){var t;(t=o.metrics.resources).push.apply(t,babelHelpers.toConsumableArray(e.getEntries()))}),o.resourcesObserver.observe({entryTypes:["resource"]}))},this.cleanUpLongTasks=function(){if(o.longTaskObserver){var e;if("function"==typeof o.longTaskObserver.takeRecords)(e=o.metrics.longTasks).push.apply(e,babelHelpers.toConsumableArray(o.longTaskObserver.takeRecords()));o.metrics.totalBlockingTime=(t=o.metrics,n=t.longTasks,r=t.ttfcp,i=void 0===r?0:r,n.reduce(function(e,t){return t.startTime>i?e+t.duration-50:e},0)),o.longTaskObserver.disconnect()}var t,n,r,i},this.cleanUpResources=function(){if(o.resourcesObserver){var e;if("function"==typeof o.resourcesObserver.takeRecords)(e=o.metrics.resources).push.apply(e,babelHelpers.toConsumableArray(o.resourcesObserver.takeRecords()));o.assets=Object(f.a)({resources:o.metrics.resources}),o.resourcesObserver.disconnect()}},this.hasNecessaryPolyfills=function(){return!!(window._fcpPolyfill&&window._fmpPolyfill&&window.perfMetrics)},this.consoleLogMetrics=function(){console.log("Page Performance Score metrics (air/page-performance-score)\n\nPathname = %c".concat(window.location.pathname,"%c\n  Time To First Contentful Paint      = ").concat(i(o.metrics.ttfcp),"\n  Time To First Meaningful Paint      = ").concat(i(o.metrics.ttfmp),"\n  First Input Delay                   = ").concat(i(o.metrics.fid),"\n  Total Blocking Time                 = (see air/pps-tbt)"),"font-weight: bold;","")},this.isDirectRequest=t,this.createdAt=t?0:n||this.performance.now();var r=!t;if(Object(l.b)(r).then(function(e){o.pageRequestMethod=e}),this.initialVisibilityState===s.a.Hidden||!this.hasNecessaryPolyfills())return this.retire(),void(this.skipLogging=!0);this.isDirectRequest&&this.listenForFCP(),this.listenForFMP(),this.listenForFID(),this.listenForLongTasks(),this.listenForResources(),!t&&this.showLogs&&(this.markStartName="navigation-start",this.performance.mark(this.markStartName))}},"z7+s":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var h={transfer_size:0,encodedbody_size:0,decodedbody_size:0,count:0,cache_hit_ratio:0},r=Object.freeze({transfer_size:-1,encodedbody_size:-1,decodedbody_size:-1,count:-1,cache_hit_ratio:-1}),i={css:r,js:{airbnb:r,third_party:r},img:r,font:r};function o(e){var t=e.resources,n=e.isDeprecated,r=void 0!==n&&n;if(!(0===t.length||0<t.length&&void 0===t[0].decodedBodySize)){var i=["link","img","css","script","other"],o=[{type:"css",initiatorList:["link"],regex:/.+(muscache|localhost).+\.css(\?.*)?$/},{type:"img",initiatorList:["img","css"],regex:/.+(muscache|localhost).+(jpg|png|gif|webp)(\?.*)?$/},{type:"js",category:"airbnb",initiatorList:["link","script"],regex:/.+(muscache|localhost).+\.m?(js|bundle)(\?.*)?$/},{type:"js",category:"third_party",initiatorList:["link","script"],regex:/^((?!(muscache|localhost)).)*\.m?js(\?.*)?$/},{type:"font",initiatorList:["link","css","other"],regex:/^.+(muscache|localhost).+\.woff2(\?.*)?$/}],f={css:babelHelpers.objectSpread({},h),js:{airbnb:babelHelpers.objectSpread({},h),third_party:babelHelpers.objectSpread({},h)},img:babelHelpers.objectSpread({},h),font:babelHelpers.objectSpread({},h)};if(t.filter(function(e){var t=e.initiatorType;return i.includes(t)}).forEach(function(e){var a=e.name,c=e.initiatorType,u=e.decodedBodySize,d=e.transferSize,l=e.encodedBodySize;o.find(function(e){var t=e.type,n=e.initiatorList,r=e.regex,i=e.category;if(n.includes(c)&&a.match(r)){var o=i?f[t][i]:f[t],s=o.count*o.cache_hit_ratio+(0===d?1:0);return o.count+=1,o.cache_hit_ratio=s?s/o.count:0,o.transfer_size+=d,o.encodedbody_size+=l,o.decodedbody_size+=u,!0}return!1})}),!r){var s,a,c,u,d,l,p;if(f.css=null!==(s=f.css)&&void 0!==s&&s.count?f.css:void 0,null!==(a=f.js)&&void 0!==a&&(null!==(c=a.airbnb)&&void 0!==c&&c.count))0===(null===(l=f.js)||void 0===l||null===(p=l.third_party)||void 0===p?void 0:p.count)&&(f.js.third_party.cache_hit_ratio=1);else f.js=void 0;f.img=null!==(u=f.img)&&void 0!==u&&u.count?f.img:void 0,f.font=null!==(d=f.font)&&void 0!==d&&d.count?f.font:void 0}if(Object.values(f).find(function(e){return!!e}))return f}}function s(e){if(!e||"function"!=typeof e.getEntriesByType)return i;var t=e.getEntriesByType("resource");return 0===t.length||0<t.length&&void 0===t[0].decodedBodySize?i:o({resources:t,isDeprecated:!0})}}}]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/8146-e898840b.js.map